---
title: "hw01"
author: "Kate Patrakova"
---

Домашнее задание № 1

По адресу http://www.stats.uwo.ca/faculty/braun/data/rnf6080.dat можно получить набор данных об осадках в Канаде с 1960 по 1980 годы. Необходимо загрузить эти данные при помощи read.table. Воспользуйтесь справкой, чтобы изучить аргументы, которые принимает функция.

Загрузите данные в датафрейм, который назовите data.df.
```{r}
data.df<-read.table(file="http://www.stats.uwo.ca/faculty/braun/data/rnf6080.dat")
```

Сколько строк и столбцов в data.df? Если получилось не 5070 наблюдений 27 переменных, то проверяйте аргументы.
```{r}
dim(data.df)
```

Получите имена колонок из data.df.
```{r}
colnames(data.df)
```

Найдите значение из 5 строки седьмого столбца.
```{r}
data.df[5, 'V7']
data.df[5, 7]
```


Напечатайте целиком 2 строку из data.df
```{r}
data.df[2,]
```

Объясните, что делает следующая строка кода names(data.df) <- c("year", "month", "day", seq(0,23)). Воспользуйтесь функциями head и tail, чтобы просмотреть таблицу. Что представляют собой последние 24 колонки?

names(data.df) присваивает имена колонкам таблицы data.df. Первым трем колонкам присваиваются имена "year", "month" и "day", а остальным - числа от 0 до 23 по порядку - это часы с 00 до 23, т.к. сведения об осадках фиксировались каждый час.

```{r}
names(data.df) <- c("year", "month", "day", seq(0,23))
head(data.df)
tail(data.df)

```

Добавьте новую колонку с названием daily, в которую запишите сумму крайних правых 24 колонок. Постройте гистограмму по этой колонке. Какие выводы можно сделать?

Т.к. среди значений колонки daily встречаются отрицательные значения, являющиеся следствием присутствия ошибочных значений/выбросов - построенная гистограмма не коррректна. Для исправления ошибки следует удалить из датафрейма все строки в которых daily<0, т.к. количество выпавших осадков не может быть отрицательным.

```{r}
data.df <- cbind(data.df, daily = rowSums(data.df[4:27]))

hist(data.df[,"daily"], prob = TRUE, main = "Гистограмма ежедневных осадков",xlab="кол-во осадков");

```

Создайте новый датафрейм fixed.df в котром исправьте замеченную ошибку. Постройте новую гистограмму, поясните почему она более корректна.

Данная гистограмма является более корректной, т.к. на ней отображаются только положительные значения ежедневного количества осадков.

```{r}
fixed.df<-data.df[data.df$daily>=0,]

hist(fixed.df[,"daily"], prob = TRUE, main = "Гистограмма ежедневных осадков",xlab="кол-во осадков");

```

Синтаксис и типизирование.

Для каждой строки кода поясните полученный результат, либо объясните почему она ошибочна.

```{r}
v <- c("4", "8", "15", "16", "23", "42")#создание символьного вектора, тип данных character
max(v) #нахождение максимального значения символьного вектора. Сравнение посимвольное, поэтому  возвращаемое значение 8 - наибольший из первых символов в строках.
sort(v) #сортировка. сравнение  посимвольное.
#sum(v) ошибка: суммирование строковых значений не допустимо.
#Исправление:
v<-as.numeric(v)
sum(v)
```

Для следующих наборов команд поясните полученный результат, либо объясните почему они ошибочна.
```{r}
v2 <- c("5",7,12) #приведение всех типов данных записанных в вектор к единому - character.

#v2[2] + 2[3] ошибка: суммирование строковых значений не допустимо.

df3 <- data.frame(z1="5",z2=7,z3=12)
df3[1,2] + df3[1,3]#структура данных data.frame позволяет сохранять разные типы данных, поэтому z2, z3 значения сохраняются числовыми значениями

l4 <- list(z1="6", z2=42, z3="49", z4=126)#список может хранить различные типы данных
l4[[2]] + l4[[4]]#при помощи двойных квадратных скобок получаем элементы списка
#l4[2] + l4[4] ошибка: при помощи одиночных квадратных скобок получаем ссылку на компонент списка, не само значение
```

Работа с функциями и операторами

Оператор двоеточие создаёт последовательность целых чисел по порядку. Этот оператор — частный случай функции seq(), которую вы использовали раньше. Изучите эту функцию, вызвав команду ?seq. Испольуя полученные знания выведите на экран:
Числа от 1 до 10000 с инкрементом 372.
```{r}
seq(1,10000,by=372);
seq(1,10000,length.out = 50);
```

Числа от 1 до 10000 длиной 50.
Функция rep() повторяет переданный вектор указанное число раз. Объясните разницу между rep(1:5,times=3) и rep(1:5, each=3).
```{r}
rep(1:5,times=3) #Повторение последовательности от 1 до 5 три раза
rep(1:5, each=3) #Повторение трижды каждого числа
```
